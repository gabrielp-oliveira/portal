<div class="top-panel">
    <div class="stats">
        <div class="card" (click)="openBottomSheet('books')" [matBadge]="hiddenPapersCount" [matBadgeColor]="'warn'">
            <div class="icon">📚</div>
            <div class="label">Books</div>
            <div class="value">{{ (papers$ | async)?.length || 0 }}</div>
        </div>

        <div class="card" (click)="openBottomSheet('chapters')"  [matBadge]="hiddenChaptersCount" [matBadgeColor]="'warn'">
            <div class="icon">📄</div>
            <div class="label">Chapters</div>
            <div class="value">{{ (chapters$ | async)?.length || 0 }}</div>

        </div>
        <div class="card" (click)="openBottomSheet('timelines')"  [matBadge]="hiddenTimelinesCount" [matBadgeColor]="'warn'">
            <div class="icon">⏱️</div>
            <div class="label">Timelines</div>
            <div class="value">{{ (timelines$ | async)?.length || 0 }}</div>
        </div>
        <div class="clearCard" (click)="clearFilters()" *ngIf="hiddenChaptersCount < 0 || hiddenChaptersCount < 0 || hiddenPapersCount < 0">
            <div class="icon">⏱️</div>
            <div class="label">clear</div>
        </div>
    </div>

    <div class="actions">
        <button class="btn-action">🧾 Exportar visão</button>
        <button class="btn-action">📃 Resumo narrativo</button>
    </div>
</div>